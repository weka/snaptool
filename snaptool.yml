#
# every: 'month' | 'day' | list of months | list of days
#     if 'month' or list of months is provided:
#         snap occurs at at: <time> on day of month specified by day: <day of month 1-31>
#         day: defaults to 1, valid values: 1-31
#         list of months can be full month names or 3 letter abbreviation, comma separated list
#         if day of month is > number of days in a month, last day of the month is used
#             e.g. 31 will snap on the last day of every listed month
#    if 'day' or list of days is provided:
#         snap occurs at: <time>
#         if interval: is provided, potentially multiple snaps per day, see below
#         list of days can be full name or 3 letter abbreviation, comma separated list
#
# at:
#    first snap time of day.  Defaults to "0000" (midnight)
#    accepts times like "9am", "9:15am" "2300" etc
# retain:
#    is the number of snapshots kept, 0 disables schedule and removes all snapshots for the schedule
#    defaults to 4
# interval:
#    if interval: is not provided, single snapshot per day is taken at time specified by "at:"
#    if interval: is provided - uses at: and until: for time range of snaps
#       interval: is the number of minutes between snaps
#       first snap is taken at at: then every <interval:> minutes until until: is reached
# until:
#    only used when interval: is provided - this is the latest a snap can be taken during a day
#    defaults to "2359"
# day:
#    only used for 'month' or list of months, the day number of the month (1-31)
# upload:
#    defaults to no/False - yes/True uploads to object store
#
# note that if multiple schedules conflict for the same filesystem and scheduled minute,
# only the schedule with the longest period between snaps will be taken
# (e.g. interval of 60 will be taken vs 15 min.   monthly will be taken vs daily.   etc.)
#

cluster:
   auth_token_file: auth-token.json
   hosts: vweka05,vweka02,vweka03
   force_https: True   # only 3.10+ clusters support https
   verify_cert: False  # default cert cannot be verified

snaptool:
   port: 8090     # use 0 to disable the statis web ui.  This overrides command line port argument

filesystems:
#   b01: fridays-4pm, daily-8am, wkdays-hourly-9-5, every15m-Mon-Fri, every5m, sat-sun-noon
#   bs02: fridays-4pm, wkdays-hourly-9-5, every5m, sat-sun-noon
#   bsn03: default, daily-8am, every3m, every5mU, sat-sun-noon, sat-sun-interval
   b01: testlocal
   bs02: testremote
   bsn03: testlocal, testremote, missing
#   bsna04: default, every15m-Mon-Fri, sat-sun-noon, sat-sun-interval

schedules:
   default:
      monthly:
         every: month
         retain: 6
         # day: 1   (this is default)
         # at: 0000 (this is default)
      weekly:
         every: Sunday
         retain: 8
         # at: 0000 (this is default)
      daily:
         every: Mon,Tue,Wed,Thu,Fri,Sat
         retain: 14
         # at: 0000 (this is default)
      hourly-name-is-too-long:
         every: Mon,Tue,Wed,Thu,Fri
         retain: 8
         interval: 60
         at: 9:00am
         until: 5pm
   testlocal:
      every: day
      interval: 5
      retain: 4
      upload: true
   testremote:
      every: day
      interval: 12
      retain: 4
      upload: remote
   every5m:
      every: day
      interval: 5
      retain: 3
      at: 9am
      upload: False
   every5mU:
      every: day
      interval: 5
      retain: 4
      at: 9am
      upload: True
   every3m:
      every: day
      interval: 2
      retain: 2
      at: 9am
      upload: False
   wkdays-hourly-9-5:
      every: Mon,Tue,Wed,Thu,Fri
      retain: 7
      at: 0900
      until: 5pm
      interval: 60
      upload: True
   every3months:
      every: Jan,Apr,Jul,Oct
      retain: 3
      at: 6am
      day: 31
   daily-8am:
      every: day
      retain: 3 
      at: 8am
      upload: yes
   dailysched:
      monthly:
         every: month
         at: 0100
         retain: 3
         day: 25
      daily:
         every: day
         retain: 3
         at: 9am
         upload: no
   every15m-Mon-Fri:
      every: Mon,Tue,Wed,Thu,Fri
      retain: 3
      interval: 15
      at: 0905
      until: 5pm
      upload: no
   wkdays-hrly-upload:
      every: Mon,Tue,Wed,Thu,Fri
      retain: 8
      interval: 60
      at: 0900
      until: 5pm
      upload: yes
   fridays-4pm:
      every: Fri
      retain: 4
      at: 4pm
   sat-sun-noon:
      every: Sat,Sun
      retain: 4
      at: 1200
   sat-sun-interval:
      every: Sat,Sun
      retain: 24
      at: 6am
      interval: 120

